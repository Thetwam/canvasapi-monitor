<div class="method_details ">
<h2 class="api_method_name" data-subtopic="Conversations" name="method.conversations.add_message">
<a href="#method.conversations.add_message" name="method.conversations.add_message">
      Add a message
    </a>
<span class="defined-in"><a href="https://github.com/instructure/canvas-lms/blob/master/app/controllers/conversations_controller.rb">ConversationsController#add_message</a></span>
</h2>
<h3 class="endpoint">
    POST /api/v1/conversations/:id/add_message
  </h3>
<p>Add a message to an existing conversation. Response is similar to the
GET/show action, except that only includes the latest message (i.e. what we
just sent)</p>
<p>An array of user ids. Defaults to all of the current conversation
recipients. To explicitly send a message to no other recipients, this array
should consist of the logged-in user id.</p>
<p>An array of message ids from this conversation to send to recipients of the
new message. Recipients who already had a copy of included messages will
not be affected.</p>
<h4>Request Parameters:</h4>
<table class="request-params">
<thead>
<tr>
<th class="param-name">Parameter</th>
<th class="param-req"></th>
<th class="param-type">Type</th>
<th class="param-desc">Description</th>
</tr>
</thead>
<tbody>
<tr class="request-param">
<td>body</td>
<td>
        
        Required
        
      </td>
<td>string</td>
<td class="param-desc">
<p>The message to be sent.</p>
</td>
</tr>
<tr class="request-param">
<td>attachment_ids[]</td>
<td>
</td>
<td>string</td>
<td class="param-desc">
<p>An array of attachments ids. These must be files that have been previously
uploaded to the sender's âconversation attachmentsâ folder.</p>
</td>
</tr>
<tr class="request-param">
<td>media_comment_id</td>
<td>
</td>
<td>string</td>
<td class="param-desc">
<p>Media comment id of an audio of video file to be associated with this
message.</p>
</td>
</tr>
<tr class="request-param">
<td>media_comment_type</td>
<td>
</td>
<td>string</td>
<td class="param-desc">
<p>Type of the associated media file.</p>
<p class="param-values">
<span class="allowed">Allowed values:</span> <code class="enum">audio</code>, <code class="enum">video</code>
</p>
</td>
</tr>
<tr class="request-param">
<td>recipients[]</td>
<td>
</td>
<td>string</td>
<td class="param-desc">
<p>no description</p>
</td>
</tr>
<tr class="request-param">
<td>included_messages[]</td>
<td>
</td>
<td>string</td>
<td class="param-desc">
<p>no description</p>
</td>
</tr>
<tr class="request-param">
<td>user_note</td>
<td>
</td>
<td>boolean</td>
<td class="param-desc">
<p>Will add a faculty journal entry for each recipient as long as the user
making the api call has permission, the recipient is a student and faculty
journals are enabled in the account.</p>
</td>
</tr>
</tbody>
</table>
<div class="examples example_response">
<h4>Example Response:</h4>
<h4><div class="inline"></div></h4>
<pre class="example code prettyprint"><code class="language-js">{
  "id": 2,
  "subject": "conversations api example",
  "workflow_state": "unread",
  "last_message": "let's talk this over with jim",
  "last_message_at": "2011-09-02T12:00:00-06:00",
  "message_count": 2,
  "subscribed": true,
  "private": false,
  "starred": null,
  "properties": [],
  "audience": [2, 3],
  "audience_contexts": {"courses": {"1": []}, "groups": {}},
  "avatar_url": "https://canvas.instructure.com/images/messages/avatar-group-50.png",
  "participants": [
    {"id": 1, "name": "Joe", "full_name": "Joe TA"},
    {"id": 2, "name": "Jane", "full_name": "Jane Teacher"},
    {"id": 3, "name": "Bob", "full_name": "Bob Student"}
  ],
  "messages":
    [
      {
        "id": 3,
        "created_at": "2011-09-02T12:00:00Z",
        "body": "let's talk this over with jim",
        "author_id": 2,
        "generated": false,
        "media_comment": null,
        "forwarded_messages": [],
        "attachments": []
      }
    ]
}</code></pre>
</div>
</div>